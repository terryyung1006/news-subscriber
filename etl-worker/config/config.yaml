# RAG Financial News Worker Configuration

# Kafka Configuration
KAFKA_BOOTSTRAP_SERVERS: "localhost:9092"
KAFKA_TOPIC_FINANCIAL_NEWS: "financial-news"
KAFKA_TOPIC_PROCESSED_NEWS: "processed-news"
KAFKA_TOPIC_USER_QUERIES: "user-queries"
KAFKA_CONSUMER_GROUP: "rag-worker-group"
KAFKA_AUTO_OFFSET_RESET: "earliest"
KAFKA_ENABLE_AUTO_COMMIT: true

# Spark Configuration
SPARK_APP_NAME: "RAG-Financial-News-Worker"
SPARK_MASTER: "local[*]"
SPARK_SQL_ADAPTIVE_ENABLED: true
SPARK_SQL_ADAPTIVE_COALESCE_PARTITIONS_ENABLED: true
SPARK_SQL_ADAPTIVE_SKEW_JOIN_ENABLED: true
SPARK_STREAMING_BACKPRESSURE_ENABLED: true
SPARK_STREAMING_KAFKA_MAX_RATE_PER_PARTITION: 1000

# Chroma Configuration
CHROMA_HOST: "localhost"
CHROMA_PORT: 8000
CHROMA_COLLECTION_NAME: "financial_news"
CHROMA_EMBEDDING_MODEL: "all-MiniLM-L6-v2"
CHROMA_DISTANCE_METRIC: "cosine"

# Data Processing Configuration
PROCESSING_BATCH_SIZE: 100
PROCESSING_MAX_TEXT_LENGTH: 2048
PROCESSING_EMBEDDING_DIMENSION: 384
PROCESSING_SIMILARITY_THRESHOLD: 0.7

# Data Sources Configuration
DATA_SOURCES_MOCK_ENABLED: true
DATA_SOURCES_MOCK_UPDATE_INTERVAL: 300 # 5 minutes
DATA_SOURCES_MOCK_NEWS_COUNT: 10
# Future data sources can be added here
# DATA_SOURCES_API_ENABLED: false
# DATA_SOURCES_API_BASE_URL: "https://api.example.com"
# DATA_SOURCES_API_KEY: "${API_KEY}"

# Logging Configuration
LOGGING_LEVEL: "INFO"
LOGGING_FORMAT: "{time:YYYY-MM-DD HH:mm:ss} | {level} | {name}:{function}:{line} - {message}"
LOGGING_FILE: "logs/rag-worker.log"

# Vector Storage Configuration
VECTOR_STORAGE_MAX_RESULTS: 10
VECTOR_STORAGE_INCLUDE_METADATA: true
VECTOR_STORAGE_METADATA_FIELDS:
  ["title", "source", "published_date", "category", "sentiment"]

# Ollama LLM Configuration
OLLAMA_BASE_URL: "http://localhost:11434"
OLLAMA_DEFAULT_MODEL: "llama3.2:3b"
OLLAMA_TIMEOUT: 30
OLLAMA_TEMPERATURE: 0.8

# Generation settings
GENERATION_MAX_LENGTH: 200
GENERATION_TEMPERATURE: 0.8
GENERATION_TOP_P: 0.9
GENERATION_FREQUENCY_PENALTY: 0.1
GENERATION_PRESENCE_PENALTY: 0.1
